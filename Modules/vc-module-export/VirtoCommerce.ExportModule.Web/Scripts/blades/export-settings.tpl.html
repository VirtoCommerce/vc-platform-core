<div class="blade-static __bottom">
    <button class="btn" ng-click="startExport()" ng-disabled="!validateExportParameters()">
        <span>{{ 'platform.blades.export-main.labels.start-export' | translate }}</span>
    </button>
</div>
<div class="blade-content">
    <div class="blade-inner">
        <div class="inner-block">
            <form class="form" name="exportForm">
                <div class="form-group">
                <!--                         
                    <label class="form-label">{{ 'export.blades.export-settings.labels.template' | translate }}</label>
                    <div class="form-input">
                        <ui-select ng-model="blade.template" required>
                            <ui-select-match placeholder="{{ 'export.blades.export-settings.placeholders.template' | translate }}">{{$select.selected.name}}</ui-select-match>
                            <ui-select-choices repeat="x in (blade.templates | filter: {name: $select.search})">
                                <span ng-bind-html="x.name | highlight: $select.search"></span>
                            </ui-select-choices>
                        </ui-select>
                    </div> 
                -->

                    <div class="list __info form-group">
                        <label class="form-label">{{ 'export.blades.export-settings.labels.provider' | translate }}</label>
                        <ui-select ng-model="blade.selectedProvider" ng-change="providerChanged()" required>
                            <ui-select-match placeholder="{{ 'export.blades.export-settings.placeholders.provider' | translate }}">{{$select.selected.name}}</ui-select-match>
                            <ui-select-choices repeat="x in (blade.providers | filter: {name: $select.search})">
                                <span ng-bind-html="x.name | highlight: $select.search"></span>
                            </ui-select-choices>
                        </ui-select>
                        <div class="list-descr">{{ 'export.blades.export-settings.labels.provider-description' | translate }}</div>
                    </div>

                    <div class="list __info form-group">
                        <div class="selection-group">
                            <label class="form-label">{{ 'export.blades.export-settings.labels.exported-type' | translate }}</label>
                            <a class="form-label" ng-class="{'__disabled': !blade.selectedProvider}" ng-click="selectExportedType()">{{ 'export.blades.export-settings.labels.select' | translate }}</a>
                        </div>
                        <div class="result-group">
                            <label class="form-label">{{ blade.exportDataRequest.exportTypeName || ('export.blades.export-settings.labels.none' | translate) }}</label>
                        </div>
                        <div class="list-descr">{{ 'export.blades.export-settings.labels.exported-type-description' | translate }}</div>
                    </div>

                    <div class="list __info form-group">
                        <div class="selection-group">
                            <label class="form-label">{{ 'export.blades.export-settings.labels.exported-data' | translate }}</label>
                            <a class="form-label" ng-class="{'__disabled': !blade.isExportedTypeSelected || !blade.selectedProvider}" ng-click="selectExportedData()">{{ 'export.blades.export-settings.labels.select' | translate }}</a>
                        </div>
                        <div class="result-group">
                            <label ng-if="!blade.exportDataRequest.dataQuery" class="form-label">{{ 'export.blades.export-settings.labels.all' | translate }}</label>
                            <label ng-if="blade.exportDataRequest.dataQuery && blade.exportDataRequest.dataQuery.isAllSelected && !blade.exportDataRequest.dataQuery.isAnyFilterApplied" class="form-label">{{ 'export.blades.export-settings.labels.all' | translate }}</label>
                            <label ng-if="blade.exportDataRequest.dataQuery && blade.exportDataRequest.dataQuery.isAllSelected && blade.exportDataRequest.dataQuery.isAnyFilterApplied" class="form-label">{{ 'export.blades.export-settings.labels.allFiltered' | translate }}</label>
                            <label ng-if="blade.exportDataRequest.dataQuery && !blade.exportDataRequest.dataQuery.isAllSelected" class="form-label">{{ ('export.blades.export-settings.labels.selected' | translate) + blade.exportDataRequest.dataQuery.objectIds.length }}</label>
                        </div>
                        <div class="list-descr">{{ 'export.blades.export-settings.labels.exported-data-description' | translate }}</div>
                    </div>

                    <div class="list __info form-group">
                        <div class="selection-group">
                            <label class="form-label">{{ 'export.blades.export-settings.labels.exported-columns' | translate }}</label>
                            <a class="form-label" ng-class="{'__disabled': !blade.isExportedTypeSelected || !blade.selectedProvider}" ng-click="selectExportedColumns()">{{ 'export.blades.export-settings.labels.select' | translate }}</a>
                        </div>
                        <div class="result-group">
                            <label class="form-label">{{ blade.includedColumnsDescription || ('export.blades.export-settings.labels.all' | translate) }}</label>
                        </div>
                        <div class="list-descr">{{ 'export.blades.export-settings.labels.exported-columns-description' | translate }}</div>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
